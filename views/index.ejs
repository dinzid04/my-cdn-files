<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title><%= config.siteName %></title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body style="background-image: url('<%= config.backgroundImage %>')">
    <div class="main-container">
        <div class="card">
            <div class="banner">
                <img src="<%= config.profileBanner %>" alt="Banner">
            </div>
            <div class="profile-content">
                <div class="pfp-container">
                    <img class="pfp" src="<%= config.profilePicture %>" alt="Profile Picture">
                </div>
                <div class="profile-details">
                    <span class="site-name"><%= config.siteName %></span>
                    <p class="about-text"><%= config.aboutText %></p>
                </div>
                <div class="opensource-section">
                    <p class="opensource-title">Open Source</p>
                    <a href="https://github.com/alip-jmbd/NefuSite.git" target="_blank" rel="noopener noreferrer" class="github-btn">
                        <svg viewBox="0 0 1792 1792" fill="currentColor" height="18" width="18" id="github"><path d="M1664 896q0 251-146.5 451.5T1139 1625q-27 5-39.5-7t-12.5-30v-211q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105T1386 856q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27T578 459.5 492 446q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5T484 1274q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 89t.5 54q0 18-13 30t-40 7q-232-77-378.5-277.5T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path></svg>
                        <span>GitHub</span>
                    </a>
                </div>
                <div class="actions">
                    <button id="cdnBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                        CDN
                    </button>
                    <button id="shortUrlBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"/></svg>
                        ShortURL
                    </button>
                </div>
            </div>
        </div>

        <div class="api-docs">
            <h2>API Documentation</h2>
            <% for (const path in swaggerSpec.paths) { %>
                <div class="api-endpoint">
                    <% for (const method in swaggerSpec.paths[path]) { %>
                        <div class="method method-<%= method %>">
                            <span class="method-name"><%= method.toUpperCase() %></span>
                            <span class="path-name"><%= path %></span>
                            <span class="summary"><%= swaggerSpec.paths[path][method].summary %></span>
                        </div>
                        <div class="details">
                            <% if (swaggerSpec.paths[path][method].parameters) { %>
                                <h4>Parameters</h4>
                                <ul>
                                    <% swaggerSpec.paths[path][method].parameters.forEach(param => { %>
                                        <li><strong><%= param.name %></strong> (<%= param.in %>): <%= param.schema.type %></li>
                                    <% }) %>
                                </ul>
                            <% } %>
                            <% if (swaggerSpec.paths[path][method].requestBody) { %>
                                <h4>Request Body</h4>
                                <% if (swaggerSpec.paths[path][method].requestBody.content['multipart/form-data']) { %>
                                    <p><code>multipart/form-data</code></p>
                                    <ul>
                                        <% const schema = swaggerSpec.paths[path][method].requestBody.content['multipart/form-data'].schema; %>
                                        <% for (const prop in schema.properties) { %>
                                            <li><strong><%= prop %></strong>: <%= schema.properties[prop].type %> (<%= schema.properties[prop].format %>)</li>
                                        <% } %>
                                    </ul>
                                <% } else if (swaggerSpec.paths[path][method].requestBody.content['application/json']) { %>
                                    <p><code>application/json</code></p>
                                    <ul>
                                        <% const schema = swaggerSpec.paths[path][method].requestBody.content['application/json'].schema; %>
                                        <% for (const prop in schema.properties) { %>
                                            <li><strong><%= prop %></strong>: <%= schema.properties[prop].type %></li>
                                        <% } %>
                                    </ul>
                                <% } %>
                            <% } %>
                        </div>
                    <% } %>
                </div>
            <% } %>
        </div>

        <div id="cdn-section" class="tool-section">
            <p class="tool-description">Supports all mimetypes, from images to executables.</p>
            <div id="drop-zone" class="drop-zone">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                <span>Click or Drag File Here</span>
                <input type="file" id="file-input" style="display: none;">
            </div>
            <div id="cdn-result" class="result-area"></div>
        </div>
        <div id="shorturl-section" class="tool-section">
            <p class="tool-description">Enter a long URL to make it short. Custom code is optional.</p>
            <div class="input-group">
                <input type="text" id="long-url" placeholder="Enter long URL">
                <input type="text" id="custom-code" placeholder="Custom code (optional)">
                <button id="shorten-btn">Shorten</button>
            </div>
            <div id="shorturl-result" class="result-area"></div>
        </div>
    </div>
    <script src="/script.js"></script>
</body>
</html>
